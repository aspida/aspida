{
  "openapi" : "3.0.0",
  "info" : {
    "title" : "Auth",
    "version" : "1.0"
  },
  "servers" : [ {
    "description" : "Local",
    "url" : "http://localhost:3000/auth/v1"
  }, {
    "description" : "Dev",
    "url" : "https://api-dev.gulliver-works.com/auth/v1"
  }, {
    "description" : "Stg",
    "url" : "https://api-stg.gulliver-works.com/auth/v1"
  }, {
    "description" : "Prd",
    "url" : "https://api.gulliver-works.com/auth/v1"
  } ],
  "paths" : {
    "/sign_in" : {
      "post" : {
        "operationId" : "post-sign_in",
        "requestBody" : {
          "$ref" : "#/components/requestBodies/inline_object",
          "content" : {
            "application/json" : {
              "schema" : {
                "properties" : {
                  "account" : {
                    "$ref" : "#/components/schemas/_sign_in_account"
                  }
                },
                "type" : "object"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/AccountWithToken.yaml"
                }
              }
            },
            "description" : "OK"
          }
        },
        "summary" : "Sign In"
      }
    },
    "/sign_up" : {
      "post" : {
        "operationId" : "post-sign_up",
        "requestBody" : {
          "$ref" : "#/components/requestBodies/inline_object_1",
          "content" : {
            "application/json" : {
              "schema" : {
                "properties" : {
                  "account" : {
                    "$ref" : "#/components/schemas/_sign_in_account"
                  }
                },
                "type" : "object"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/AccountWithToken.yaml"
                }
              }
            },
            "description" : "OK"
          }
        },
        "summary" : "Sign Up"
      }
    },
    "/verify_email" : {
      "get" : {
        "operationId" : "get-verify_email",
        "parameters" : [ {
          "description" : "新規登録時に発行されたアドレス確認用トークン",
          "explode" : true,
          "in" : "query",
          "name" : "token",
          "required" : false,
          "schema" : {
            "type" : "string"
          },
          "style" : "form"
        } ],
        "responses" : {
          "302" : {
            "description" : "Found"
          }
        },
        "summary" : "アドレスを確認し、本登録する",
        "tags" : [ ]
      }
    }
  },
  "components" : {
    "requestBodies" : {
      "inline_object_1" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/inline_object_1"
            }
          }
        }
      },
      "inline_object" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/inline_object"
            }
          }
        }
      }
    },
    "schemas" : {
      "AccountWithToken.yaml" : {
        "properties" : {
          "account" : {
            "$ref" : "#/components/schemas/Account"
          },
          "token" : {
            "type" : "string"
          }
        },
        "title" : "AccountWithToken.yaml",
        "type" : "object"
      },
      "Account" : {
        "description" : "",
        "properties" : {
          "id" : {
            "format" : "uuid",
            "type" : "string"
          },
          "email" : {
            "example" : "test@example.com",
            "format" : "email",
            "type" : "string"
          },
          "email_verification_status" : {
            "default" : "unspecified",
            "enum" : [ "unspecified", "request", "verified" ],
            "example" : "verified",
            "type" : "string"
          },
          "profile" : {
            "$ref" : "#/components/schemas/AccountProfile"
          },
          "work_histories" : {
            "items" : {
              "$ref" : "#/components/schemas/WorkHistory"
            },
            "type" : "array"
          },
          "academic_histories" : {
            "items" : {
              "$ref" : "#/components/schemas/AcademicHistory"
            },
            "type" : "array"
          },
          "email_verification_token" : {
            "format" : "uuid",
            "type" : "string"
          },
          "last_notification_read_at" : {
            "format" : "date",
            "type" : "string"
          }
        },
        "required" : [ "academic_histories", "email", "email_verification_status", "id", "profile" ],
        "title" : "Account",
        "type" : "object",
        "x-tags" : [ "Account" ]
      },
      "AccountProfile" : {
        "description" : "STIを使って実装する",
        "properties" : {
          "id" : {
            "format" : "uuid",
            "type" : "string"
          },
          "first_name" : {
            "example" : "太郎",
            "type" : "string"
          },
          "last_name" : {
            "example" : "山田",
            "type" : "string"
          },
          "first_name_kana" : {
            "example" : "タロウ",
            "type" : "string"
          },
          "last_name_kana" : {
            "example" : "ヤマダ",
            "type" : "string"
          },
          "gender" : {
            "enum" : [ "MALE", "FEMALE", "OTHER" ],
            "example" : "MALE",
            "type" : "string"
          },
          "phone" : {
            "example" : "090-XXXX-XXXX",
            "type" : "string"
          },
          "postal_code" : {
            "example" : "107-0051",
            "type" : "string"
          },
          "address" : {
            "example" : "東京都港区元赤坂1-7-18",
            "type" : "string"
          },
          "date_of_birth" : {
            "description" : "",
            "format" : "date",
            "type" : "string"
          },
          "biography" : {
            "example" : "自己PR/紹介",
            "type" : "string"
          }
        },
        "required" : [ "date_of_birth", "first_name", "first_name_kana", "gender", "id", "last_name", "last_name_kana", "phone" ],
        "title" : "AccountProfile",
        "type" : "object",
        "x-tags" : [ "Account" ]
      },
      "WorkHistory" : {
        "description" : "dateの日付は月初で統一",
        "properties" : {
          "id" : {
            "format" : "uuid",
            "type" : "string"
          },
          "is_employed" : {
            "default" : true,
            "description" : "「在職中」「離職中」",
            "example" : true,
            "type" : "boolean"
          },
          "occupation" : {
            "$ref" : "#/components/schemas/Occupation"
          },
          "industry" : {
            "$ref" : "#/components/schemas/Industry"
          },
          "position" : {
            "example" : "主任",
            "type" : "string"
          },
          "annual_income" : {
            "example" : 4000000,
            "type" : "number"
          },
          "management_experience" : {
            "example" : 3,
            "type" : "integer"
          },
          "job_summary" : {
            "example" : "Ruby on Railsを使ったバックエンド開発",
            "type" : "string"
          },
          "since_date" : {
            "example" : "2019-08-01",
            "format" : "date",
            "type" : "string"
          },
          "until_date" : {
            "example" : "2020-05-01",
            "format" : "date",
            "type" : "string"
          },
          "name" : {
            "example" : "株式会社SIMULA Labs",
            "type" : "string"
          }
        },
        "required" : [ "annual_income", "id", "industry", "is_employed", "management_experience", "name", "occupation", "position", "since_date" ],
        "title" : "WorkHistory",
        "type" : "object",
        "x-examples" : { }
      },
      "AcademicHistory" : {
        "description" : "dateの日付は月初で統一",
        "properties" : {
          "id" : {
            "format" : "uuid",
            "type" : "string"
          },
          "name" : {
            "example" : "明治大学",
            "type" : "string"
          },
          "faculty" : {
            "example" : "情報コミュニケーション学部",
            "type" : "string"
          },
          "since_date" : {
            "example" : "2008-04-01",
            "format" : "date",
            "type" : "string"
          },
          "until_date" : {
            "example" : "2012-03-01",
            "format" : "date",
            "type" : "string"
          },
          "type" : {
            "description" : "「大学院」「大学」「専門学校」「短期大学」「高校」",
            "enum" : [ "graduate_school", "university", "vocational_school", "junior_college", "high_school" ],
            "example" : "university",
            "type" : "string"
          }
        },
        "required" : [ "id", "name", "since_date", "type", "until_date" ],
        "title" : "AcademicHistory",
        "type" : "object",
        "x-internal" : false
      },
      "Occupation" : {
        "description" : "職種",
        "properties" : {
          "id" : {
            "format" : "uuid",
            "type" : "string"
          },
          "name" : {
            "example" : "戦略・経営コンサルタント",
            "type" : "string"
          }
        },
        "required" : [ "id", "name" ],
        "title" : "Occupation",
        "type" : "object"
      },
      "Industry" : {
        "description" : "業種",
        "properties" : {
          "id" : {
            "format" : "uuid",
            "type" : "string"
          },
          "name" : {
            "example" : "銀行・信託銀行",
            "type" : "string"
          }
        },
        "required" : [ "id", "name" ],
        "title" : "Industry",
        "type" : "object"
      },
      "_sign_in_account" : {
        "properties" : {
          "email" : {
            "example" : "test@example.com",
            "format" : "email",
            "type" : "string"
          },
          "password" : {
            "format" : "password",
            "type" : "string"
          }
        },
        "required" : [ "email", "password" ],
        "type" : "object"
      },
      "inline_object" : {
        "properties" : {
          "account" : {
            "$ref" : "#/components/schemas/_sign_in_account"
          }
        },
        "type" : "object"
      },
      "inline_object_1" : {
        "properties" : {
          "account" : {
            "$ref" : "#/components/schemas/_sign_in_account"
          }
        },
        "type" : "object"
      }
    }
  }
}